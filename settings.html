<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8">
		<title>Care Ecosystem Portal Demo</title>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="theme-color" content="#D2E6FF" />
		<meta name="Description" content="Care Ecosystem is a functional monitoring research project" />
		<link rel="manifest" href="/manifest.json" /> <!-- PWA manifest -->
	</head>
	<body>
		<div id="main">
			<div style="text-align:center;width:100%">
				<img src="ceLogo.webp" width="500" alt="Care Ecosystem logo" />
			</div>
			<nav> <!-- landmark for screen readers -->
				<div id="navigation">
					<div class="navTab">
						<h1><a href="index.php">By The Numbers</a></h1>
					</div>
					<div class="navTab">
						<h1><a href="insights.html">Insights</a></h1>
					</div>
					<div class="navTab active">
						<h1>Settings</h1>
					</div>
				</div>
			</nav>
			<main> <!-- landmark for screen readers -->
				<div id="content">
					<div id="settingsPanel">
						<h2>Your settings:</h2>
						<div id="saveSuccess">Saved successfully!</div>
						<div id="valuesReset">Settings returned to default</div>
						<label for="goalWake">Goal wake time </label> <input type="time" name="goalWake" id="goalWake" min="03:00" max="11:00" value="07:00" step="1800" required /><br /><br />
						<label for="goalBed">Goal bed time </label> <input type="time" name="goalBed" id="goalBed" min="15:00" max="23:00" value="21:00" step="1800" required /><br /><br />
						<label for="goalActive">Goal active hours / day</label> <input type="number" name="goalActive" id="goalActive" min="0.5" max="12.0" value="2.0" step="0.5" required /><br /><br />
						<label for="goalStep">Goal steps / day </label> <input type="number" name="goalStep" id="goalStep" min="500" max="20000" value="3000" step="100" required /><br /><br />
						<label for="targetOutings">Target outings / month </label> <input type="number" name="targetOutings" id="targetOutings" min="0" max="30" value="3" step="1" required /><br /><br />
						<button onclick="defaultPrefs()">Reset to Default</button> <button onclick="populatePrefs()">Cancel</button> <button onclick="savePrefs()">Save</button>
					</div>
					<div id="averages">
						<h2>Current averages:</h2>
						<p id="avgWakeTime">Median wake time: <em>11:51am</em></p>
						<p id="avgBedTime">Median bed time: <em>4:16am</em></p>
						<p id="avgActiveHrs">Average active hours: <em style="color:rgb(0,150,0)">5.2</em></p>
						<p id="avgSteps">Average steps per day: <em style="color:rgb(0,150,0)">6,000</em></p>
						<p id="avgOutings">Average outings per month: <em style="color:rgb(0,150,0)">9</em></p>
					</div>
					<div id="recommended">
						<h2>Recommended values:</h2>
						<p id="recWakeTime">Wake time: <em>10:00am</em></p>
						<p id="recBedTime">Bed time: <em>11:30pm</em></p>
						<p id="recActiveHrs">Active hours: <em style="color:rgb(0,150,0)">5</em></p>
						<p id="recSteps">Steps per day: <em style="color:rgb(0,150,0)">5,500</em></p>
						<p id="recOutings">Outings per month: <em style="color:rgb(0,150,0)">7</em></p>
					</div>
				</div>
			</main>
		</div>

		<!-- Scripts and stylesheets at the bottom, instead of the head, to improve page paint time -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/p5.min.js"></script> <!-- p5.js include -->
		<link rel="stylesheet" type="text/css" href="style.css"></link> <!-- Relative link to external stylesheet -->
		<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet"> <!-- adding a font from Google's font library -->
		<script type="text/javascript" src="prefStorage.js" async></script> <!-- handles local storage of settings -->
		<script type="text/javascript">
			window.currentTab = 3;
			if('serviceWorker' in navigator) {
			  navigator.serviceWorker
			           .register('/prefStorage.js')
			           .then(function() { console.log("Service Worker Registered"); });
			}
		</script>
		<script type="text/javascript" src="dataVis.js" async></script> <!-- Relative link to graph drawing script, which leverages p5.js -->
		<script type="text/javascript" src="dataHandler.js" async></script> <!-- Relative link to data handler script -->
	</body>
</html>
